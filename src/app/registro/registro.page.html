<!-- Encabezado -->
<app-header></app-header>
<!-- Contenido principal -->
<ion-content class="ion-padding fondo-registro" [@fadeInAnimation]>
  <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
    <ion-grid>
      <ion-row>
        <ion-col size="12">
          <h2 class="titulo">Crea una cuenta</h2>
          <p class="subtitulo">Es fácil y rápido.</p>
        </ion-col>

        <!-- Nombre -->
        <ion-col size="12">
          <mat-form-field appearance="outline" class="full-width">
            <mat-label>Nombre</mat-label>
            <input matInput formControlName="nombre" />
          </mat-form-field>
          <mat-error *ngIf="registerForm.get('nombre')?.touched && registerForm.get('nombre')?.invalid">
            El nombre es obligatorio y debe tener mínimo 3 caracteres.
          </mat-error>
        </ion-col>

        <!-- Apellido paterno -->
        <ion-col size="12">
          <mat-form-field appearance="outline" class="full-width">
            <mat-label>Apellido paterno</mat-label>
            <input matInput formControlName="apellidoPaterno" />
          </mat-form-field>
          <mat-error *ngIf="registerForm.get('apellidoPaterno')?.touched && registerForm.get('apellidoPaterno')?.invalid">
            Este campo es obligatorio.
          </mat-error>
        </ion-col>

        <!-- Apellido materno -->
        <ion-col size="12">
          <mat-form-field appearance="outline" class="full-width">
            <mat-label>Apellido materno</mat-label>
            <input matInput formControlName="apellidoMaterno" />
          </mat-form-field>
          <mat-error *ngIf="registerForm.get('apellidoMaterno')?.touched && registerForm.get('apellidoMaterno')?.invalid">
            Este campo es obligatorio.
          </mat-error>
        </ion-col>

        <!-- Fecha de nacimiento -->
        <ion-col size="12">
          <mat-form-field appearance="outline" class="full-width">
            <mat-label>Fecha de nacimiento</mat-label>
            <input matInput [matDatepicker]="picker" formControlName="fechaNacimiento" />
            <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
            <mat-datepicker #picker></mat-datepicker>
          </mat-form-field>
          <mat-error *ngIf="registerForm.get('fechaNacimiento')?.touched && registerForm.get('fechaNacimiento')?.invalid">
            Este campo es obligatorio.
          </mat-error>
        </ion-col>

        <!-- Género -->
        <ion-col size="12">
          <mat-form-field appearance="outline" class="full-width">
            <mat-label>Género</mat-label>
            <mat-select formControlName="genero">
              <mat-option value="femenino">Femenino</mat-option>
              <mat-option value="masculino">Masculino</mat-option>
              <mat-option value="otro">Otro</mat-option>
            </mat-select>
          </mat-form-field>
          <mat-error *ngIf="registerForm.get('genero')?.touched && registerForm.get('genero')?.invalid">
            Este campo es obligatorio.
          </mat-error>
        </ion-col>

        <!-- Correo electrónico -->
        <ion-col size="12">
          <mat-form-field appearance="outline" class="full-width">
            <mat-label>Correo electrónico</mat-label>
            <input matInput type="email" formControlName="correo" />
          </mat-form-field>
          <mat-error *ngIf="registerForm.get('correo')?.touched && registerForm.get('correo')?.invalid">
            Ingrese un correo válido.
          </mat-error>
        </ion-col>

        <!-- Contraseña -->
        <ion-col size="12">
          <mat-form-field appearance="outline" class="full-width">
            <mat-label>Contraseña</mat-label>
            <input matInput type="password" formControlName="password" />
          </mat-form-field>
          <mat-error *ngIf="registerForm.get('password')?.touched && registerForm.get('password')?.invalid">
            La contraseña debe tener mínimo 6 caracteres.
          </mat-error>
        </ion-col>

        <!-- Botón de registro -->
        <ion-col size="12">
          <button mat-raised-button class="boton-personalizado" type="submit" color="primary" [disabled]="registerForm.invalid">
            Registrarse
          </button>
        </ion-col>

        <!-- Enlace a login -->
        <ion-col size="12" class="ion-text-center">
          <ion-text>¿Ya tienes una cuenta?</ion-text>
          <a (click)="irALogin()">Inicia sesión</a>
        </ion-col>
      </ion-row>
    </ion-grid>
  </form>
</ion-content>

<ion-footer>
  <ion-toolbar color="dark">
    <ion-title size="small" class="ion-text-center">
      Copyright © ReVístete 2025
    </ion-title>
  </ion-toolbar>
</ion-footer>
